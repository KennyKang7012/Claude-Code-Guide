# 探索規劃編碼-系統化工作流

## 文章資訊
- 文章原始標題：Claude Code Best Practices
- 文章網址：https://www.anthropic.com/engineering/claude-code-best-practices

## 文章原始內容

這個多功能的工作流程適用於許多問題：

- 要求 Claude 讀取相關文件、圖像或 URL，提供一般指針（「讀取處理日誌的文件」）或具體文件名（「讀取 logging.py」），但明確告訴它暫時不要編寫任何程式碼。
- 這是工作流程中應該考慮大量使用子代理的部分，特別是對於複雜問題。告訴 Claude 使用子代理來驗證詳細資訊或調查它可能有的特定問題，特別是在對話或任務的早期，往往能保持上下文可用性，而在效率損失方面沒有太多缺點。
- 要求 Claude 制定如何處理特定問題的計劃。我們建議使用「think」這個詞來觸發擴展思考模式，這給 Claude 額外的計算時間來更徹底地評估替代方案。這些特定短語直接映射到系統中增加的思考預算級別：「think」< 「think hard」< 「think harder」< 「ultrathink」。每個級別為 Claude 分配漸進式更多的思考預算。
- 如果這一步的結果看起來合理，您可以讓 Claude 創建一個文件或 GitHub 問題來記錄其計劃，這樣如果實施（步驟3）不是您想要的，您可以重置到這個位置。
- 要求 Claude 在程式碼中實施其解決方案。這也是要求它明確驗證其解決方案合理性的好地方，因為它實施解決方案的各個部分。
- 要求 Claude 提交結果並創建拉取請求。如果相關，這也是讓 Claude 更新任何 README 或更改日誌的好時機，說明它剛才所做的事情。

步驟 #1-#2 至關重要——沒有它們，Claude 傾向於直接跳到編碼解決方案。雖然有時這正是您想要的，但要求 Claude 首先進行研究和規劃可以顯著提高需要深入思考的問題的性能。

## 功能分析與使用建議

「探索、規劃、編碼、提交」工作流程是 Claude Code 中最核心和多功能的方法論，提供了系統化的問題解決框架：

### 1. 探索階段（Explore）
**核心原則**：在動手之前充分理解問題

**實施策略**：
- **廣泛調研**：讓 Claude 讀取相關文件、配置檔案、歷史紀錄
- **明確約束**：明確指示「暫時不要編寫程式碼」
- **多角度分析**：檢視問題的技術、業務和架構層面
- **子代理運用**：利用專門的子代理深入調查特定領域

**實際指令範例**：
```
請閱讀 src/authentication/ 目錄下的所有文件，了解當前的認證機制，
但先不要編寫任何程式碼。特別注意安全性實施和錯誤處理模式。
```

### 2. 規劃階段（Plan）
**思考層級系統**：
- `think`：基礎思考模式
- `think hard`：中級思考預算
- `think harder`：高級思考預算  
- `ultrathink`：最大思考預算

**規劃最佳實踐**：
- **結構化輸出**：建立 GitHub issue 或文檔記錄規劃
- **可回滾設計**：確保可以輕易返回規劃階段
- **風險評估**：識別潛在問題和替代方案
- **里程碑設定**：將大型任務拆解為可管理的步驟

### 3. 編碼階段（Code）
**實施原則**：
- **漸進式開發**：按計劃逐步實施
- **持續驗證**：在實施過程中定期驗證合理性
- **品質把關**：確保程式碼符合專案標準
- **測試整合**：在編碼過程中整合必要的測試

### 4. 提交階段（Commit）
**完整化流程**：
- **自動提交**：生成有意義的提交訊息
- **PR 創建**：自動化拉取請求流程
- **文檔更新**：同步更新 README、CHANGELOG 等
- **團隊通知**：確保相關人員了解變更

### 5. 成功關鍵因素

#### 為什麼前兩步驟至關重要？
- **防止盲目編碼**：避免基於不完整理解的草率實施
- **提升成功率**：充分規劃顯著提高複雜問題的解決品質
- **節省時間**：前期投資減少後期重構和除錯時間
- **知識累積**：探索過程增進對系統的整體理解

#### 適用場景
- **新功能開發**：需要深入理解現有架構
- **複雜重構**：涉及多個模組的大型變更
- **問題調查**：需要系統性分析的 bug 修復
- **架構設計**：需要全面考慮的系統設計決策

這個工作流程的威力在於其系統性和可重複性，特別適合需要深度思考和謹慎執行的開發任務。